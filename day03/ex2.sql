WITH vals AS (VALUES('...............#.#.............'),('##..#....................#...##'),('......#..#.#.....#..#.#.##.....'),('.........#...#..............#.#'),('............#.......##.........'),('...#.....#.....#...#.....#..#..'),('..............#..##.#..#......#'),('.##.....#.....#......##.#......'),('.#..........###....#...##....#.'),('.....#....#.#.......#......##..'),('.#....#......#.......#........#'),('..#.#.......#..##.....##.......'),('...#.#....#.......#.......#...#'),('##.##...##..#......#.#.....#..#'),('.#.#.......#..#.#......#...#.#.'),('#.......##.......#...#.........'),('.....#......#.#.#.....#....##..'),('.#.#........#....#..#..#.......'),('...#....#..###.........#.....#.'),('........#........#........#....'),('..##..............#.....#.#..#.'),('.#...##.............#.#........'),('....#..#...........#.......#...'),('..#....#.....................#.'),('#.#..................##......##'),('.#.##....#......#........#.....'),('.........##.....#....#...##..#.'),('#..........#..#.#.............#'),('.........#...#.#.#.#..##..##...'),('#...#.....#..#..#....#...#.....'),('..##.....#..................#..'),('#..###.....#....#.......#..#...'),('...##.##..#............#......#'),('........###.........###......#.'),('#..##....#.........#.........#.'),('....#.....................#....'),('#..#..##..#..####.##..#.....##.'),('..#...#.#....#....##.....#.....'),('...#.#.........#.....#.#.......'),('....#................#..#...##.'),('....#..#..........#...#.#.##...'),('........#..##............#....#'),('...#......##..........#.##...#.'),('.......##......................'),('.......##..........#....#.#...#'),('......###.##..##..#....#...#..#'),('#.#...........##.....#........#'),('..#...........#..###....#.#.#..'),('........#...........#......##..'),('.........#...##.###...###..#...'),('.....#.....#..##.........##....'),('...##..............#.....#...##'),('.##....#.......###.....#.......'),('.#...........##.............##.'),('......#..#..##.##......#......#'),('........###........#......#.#..'),('#.#....#.....#........#......#.'),('.##..#.........##...##....#....'),('.....#.........#...##.....#....'),('.............#........###....#.'),('......#.......#.#........#.#...'),('..#....#.#...#....#...#.#...##.'),('#...#......##..##......#.##.###'),('...##.#....#...#....#.........#'),('...#..####.....##.#..#.#...##..'),('##.#..#....##......#......##...'),('###.........#.#..#.#.....#.....'),('...#........#..##...#.#.#..#.#.'),('...###..#.###.#...#............'),('....................###........'),('...........#...........#.......'),('#..............#.#.........###.'),('....................##.....#..#'),('#.#.....#.......#...#..........'),('.#...#......#....##...#...#....'),('.....#.##..................###.'),('.........#.#..#.#......#.......'),('.......#.....##..#.##.#........'),('..#..........#.###.....#....#..'),('......#.............#.#........'),('........##....#........#.......'),('...#.............#....#.#......'),('#........#..####.....#.....#.#.'),('.##......##...#........#..#.#..'),('....##....#...#...#..##...#.#..'),('#.##...###..#....##.#..........'),('....#.#...#.#...#..##.###...#..'),('#.....##..#..#....#.#.....##...'),('.#..#..........##.#.....##.....'),('.#..#........#.#.#.#...........'),('.#..#.....#...........#...#....'),('...#......##..........##..#....'),('...#..#....#.##...#..#.....###.'),('#.#....#.....##................'),('#..#......#.#.#.......#........'),('......#....#.#....#..##....#..#'),('.#.....#.#....###.##.........#.'),('.###..#.....#........#.#.......'),('.#...#......#..#.#......#.....#'),('#...............####...#.....#.'),('.......#..........##.#........#'),('#........##....##.....###..##..'),('#..#.....#..##.....#....#..#...'),('#.....#.......##......#.#.....#'),('#.##..#......##..#.............'),('##...#.....#........##.........'),('....#..##....#...#.......#.#...'),('....#...#...##..#....#..#...#..'),('..............#.#...#....###...'),('...#....#..##...##..#....##....'),('#.##.#..#..#......#.#.#.#...#..'),('.......#..#..##........#......#'),('##.#....#....##.#......##.#....'),('.#...#..............#........#.'),('.#.#....#.........#............'),('.#..#..###.............#....#..'),('#......#...#.#..##..#...#....#.'),('.......................#...#.#.'),('.............#..#...##.........'),('..#.#..#....#....#........#....'),('#......#.##..#...#.#...........'),('.....#....#...........##.#..#..'),('..#.#.....#..............#.#...'),('#.......#.....#................'),('#..............#...#....#...#..'),('...#...##..#..#............#...'),('......###.....................#'),('.........#.......##..#....#....'),('........#...#.##..#.##......#..'),('....###..#.#...#...#..#.#...###'),('##...#...##.#...#.#...#.#....#.'),('.........#...#.....###.........'),('...#........##..#.......##.....'),('.#.......##.........#.....##..#'),('.#..................#...#......'),('.##..#..#.#.....#.###..........'),('...#.....##..#.........#...#...'),('.#......#.#.......#.#..........'),('.........#.#...#..........#.#..'),('#..........#.##..#.##....#.....'),('.#.#....#.....#..##.....#...#..'),('..#........##...##..#..#....#..'),('#...........##....#..###....#..'),('...........##.........####...#.'),('..#........###...#.#.........#.'),('.#...............#.##.#.#...#..'),('.#.##..#.....#.#.....##..#.....'),('...#...#..#.##.##...#.......##.'),('..#...#...#......##.##.##...#..'),('##....#...#...#...............#'),('...##...........#......#..#.#..'),('#.........#......#.#.##.....#..'),('........#..#.........##........'),('..#.#....###.....##..#...#.....'),('.........#...#.......#.....##..'),('##.....................#...##..'),('.#.#..#......#.................'),('.....###..#......#..###..#.....'),('...#.....##.........#......#..#'),('......##.....#...#........#.#..'),('..#.#...#......#...#.##.##.....'),('...#..........#...#.......#..##'),('.###........#........##........'),('..#.#.#..........#.#...##......'),('.........#........#......###..#'),('....##..#.........#...........#'),('..####..#............##.......#'),('.....##.#..##.........#...#.#..'),('...#.........#.....#.....#.....'),('.......#...#..#...##.........#.'),('...#...#..#...#....#..#........'),('#............##.##...#.........'),('.#.#.....#.......####.....#....'),('..............#......#.#.......'),('..............#...........#...#'),('#...#........###....#.#....#.#.'),('##.#..#..#......#......#.#.#...'),('.#..#.....#..#.#..#.#.......##.'),('......##.#...#...#......#...#..'),('#...........##....#.#..........'),('....#.......###.#...#..........'),('.......................#.....#.'),('........#...#..#...#.#.#.#.#...'),('.#.#...........#......##...#...'),('.........................#.....'),('.................#.##.#...##...'),('...#...##.....#.....##....#.#..'),('...#...#...................#...'),('...#..#..#...#...#....#........'),('#....#...#.....#...............'),('.......#...........#...#.......'),('....#....#.....##.......#......'),('.......#..........##...........'),('.#.#........#..##....#......#..'),('.....#.......#.#.........#...#.'),('.#..####.#.#...............#..#'),('.....###..#..#..........#.#..##'),('..#.......#...#.....##..#..#.#.'),('#....#......#..................'),('........#.##.#....#...........#'),('....#.#....##..#.#.....##......'),('...#..#.......#....#.....#.#.#.'),('#...#......#.....#.#..........#'),('....#....#...............#.....'),('..###......................###.'),('.##....#..#.......###.....#..#.'),('..###............#........#.##.'),('.#........#......#.....#..#....'),('....#..##...#...#.###.......#.#'),('.......#.##...........#.#..#...'),('.....#...##....................'),('....#....#...##......#.........'),('..#............##....###.#...#.'),('.#........#...............#....'),('#..#.#.##.........#..##....##..'),('#.#....#..#.##....##...#.#.....'),('.....#.....##....#.#........#..'),('#..#...#...#....#....#.........'),('...#........#..#.#.....##......'),('..#...#...#................##..'),('#........#.#.##.......#.#...#..'),('#......#..####.##.....#.#..#.#.'),('............#..#.#....#......##'),('..#.....##....#...#.#..........'),('...#...#.........#...#.#.......'),('.###..#.......##.##.....#.#.#..'),('...#....#...............##.#...'),('....##..#..#..#.#......##.....#'),('#.#..............##...##...####'),('.....#.##...#.#...............#'),('.##.....#.........#.......#.#.#'),('#.#..#.....#.......#.......#..#'),('...#.#.....#.....#......#......'),('.......#....#..#.#..........#..'),('......#......#.##...#..........'),('.....#.......###...#...#.#.....'),('#..#.#.........#.....#.##....#.'),('..#.#.........#..#..#..#.....#.'),('.#..##..#..#....#......#.##..#.'),('...##......###.....#.##.##.....'),('.#.....#...#..#...#............'),('##..##..#.##....#..#...........'),('...#..##..#..#.............#.##'),('...............##............#.'),('..#.....##........##.#...#....#'),('.#.#...#.#.#..#.#.....#....#...'),('.#....#...............#..#.....'),('....#.##..#....#......#...###..'),('#................###...#.#.....'),('...#...#......##..#.#....#.....'),('.#....#....#.#...##............'),('....#...##..#..#........#.##...'),('..##.....#..#..##..............'),('..#..##..#.#..##....#....#....#'),('...##.............#............'),('#....#....#.#........#.....##.#'),('.....#..#.#.....####...###.....'),('................#......#.......'),('.....#.#.#.#.#....#..#........#'),('.##.#...#.#.......##....#....#.'),('.....#........#................'),('..#.....#..#...#..#...........#'),('.#.....#...##.....##..#.#....##'),('......#.......#..#......##.#...'),('#.#..........#.##.#........#...'),('...#..#.............#..........'),('#..#..#..........#..##.#.......'),('.#..#...............####..#....'),('.......#.....#......#.....#.#..'),('.#...............#...#.........'),('.#..#..........#..#.#..##..#..#'),('......##..#.....#..#......###..'),('..........#...#..#.......#.....'),('.#.#.#..#.....#.##.#...#..#....'),('........#.......#.....#.#......'),('......#.....##.....#....##.#...'),('...............#......#.......#'),('..#.#...#.....#.#...##......#..'),('#.#.........#.#...#........####'),('#..........##..#..#........##..'),('.............#..#.......##.#..#'),('..#........#.#....#........#.#.'),('.#......####..#..#.............'),('............###.......#.#..#...'),('#.##......##...#...#.........#.'),('....##.#.#.#......#....#..#...#'),('.#..#.#....#...#.........#.....'),('#...#.....##............#...#..'),('#.#...#..#.................#...'),('............#.#..#.....#.#.#..#'),('...................#....#.##...'),('.....#...#.#....#....#.#......#'),('.......##.#.#......##..........'),('.#..#...##.#...#..#......#.....'),('......#.#..#..###..##..##......'),('.#.#.#.#.....#...###.....#..#..'),('.#....#.....#.......#.......#..'),('..........##.........####......'),('.#.#.............#..#.#...#....'),('........#........##...#.#....#.'),('........#......................'),('..#.#....#...............#...##'),('.......#.#...#..#.....##......#'),('.#...#....#..........##........'),('.#.........#.#............##...'),('.....#......##...#.......#..#..'),('#.#..#.............#...#...#...'),('......#.......#............#...'),('...........##....#......##.....'),('.#.#..#.....................#..'),('##..##.....###..##.#...........'),('...##......##....#...##.....#..'),('#...#.##.............#.........'),('......#..#.........###.#......#'),('#.#.....#.....................#'),('....#####.....##........#.#..#.'),('...........##..##.###..........'),('..........##.....#........#...#'),('.......#..#......#.....##..##.#'),('.....##.#........#.........#...'),('......##......................#'),('.#.......#.#.#............#..#.'),('.....##.#.......#.#........#...')),
forest as (
    SELECT repeat(vals.column1,150) as forest_line,
           row_number() over() as line_num
      FROM vals
),
parkour as (VALUES(1,1,1),(2,3,1),(3,5,1),(4,7,1),(5,1,2)),
parkours as (
    SELECT p.column1 AS parkour,
           p.column2 AS go_right,
           p.column3 AS go_down
      FROM parkour p
),
current_forest as (
    SELECT f.forest_line,
           1+((f.line_num-1)/ p.go_down) as current_line,
           p.parkour,
           p.go_right,
           p.go_down
      FROM forest f, parkours p
     WHERE f.line_num % p.go_down=1
        OR p.go_down=1
),
pathes as (
    SELECT parkour,count(*) as nbr
      FROM current_forest
     WHERE substr(forest_line, ((current_line::integer-1)*go_right)+1, 1)='#'
  GROUP BY parkour
)
SELECT p1.nbr*p2.nbr*p3.nbr*p4.nbr*p5.nbr
FROM pathes p1,pathes p2,pathes p3,pathes p4,pathes p5
WHERE p1.parkour=1 AND p2.parkour=2 AND p3.parkour=3 AND p4.parkour=4 AND p5.parkour=5;
